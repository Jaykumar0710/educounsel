<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scholarship List</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- FontAwesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- Custom Styles -->
  <style>
    body {
      background-color: #f8f9fa;
      padding-top: 80px;
    }

    .navbar {
      background-color: #007bff;
    }

    .navbar .navbar-brand,
    .navbar .nav-link {
      color: #fff;
    }

    .navbar .nav-link:hover {
      color: #cce5ff;
    }

    h2 {
      color: #007bff;
      font-weight: 600;
      margin-bottom: 30px;
    }

    .search-bar {
      border: 1px solid #007bff;
    }

    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .btn-apply {
      background-color: #28a745;
      border: none;
      padding: 6px 12px;
      font-size: 0.9rem;
      border-radius: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background-color 0.3s ease;
    }

    .btn-apply:hover {
      background-color: #218838;
    }

    .table thead {
      background-color: #007bff;
      color: white;
    }

    .pagination .page-link {
      color: #007bff;
    }

    .pagination .page-item.active .page-link {
      background-color: #007bff;
      border-color: #007bff;
      color: white;
    }

    @media (max-width: 576px) {
      .btn-apply {
        font-size: 0.8rem;
        padding: 4px 8px;
      }
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg fixed-top shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand" th:href="@{/admin/dashboard}">
      <i class="fas fa-graduation-cap me-2"></i>EduCounsel Admin
    </a>
    <button class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/users}">Users</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/institutes}">Institutes</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/branches}">Branches</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/categories}">Categories</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/scholarships}">Scholarships</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/timelines}">Timelines</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/logout}">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Page Content -->
<div class="container">
  <h2 class="text-center">Scholarship List</h2>

  <!-- Search Form -->
  <form method="get" th:action="@{/admin/scholarships}" class="mb-4 row g-2">
    <div class="col-md-10">
      <input type="text" name="keyword" class="form-control search-bar" th:value="${keyword}" placeholder="Search by name or category...">
    </div>
    <div class="col-md-2">
      <button type="submit" class="btn btn-primary w-100">Search</button>
    </div>
  </form>

  <!-- Scholarships Table -->
  <div class="table-responsive">
    <table class="table table-bordered table-hover text-center align-middle">
      <thead>
      <tr>
        <th>Name</th>
        <th>Eligible Categories</th>
        <th>Income Limit</th>
        <th>Apply</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="scholarship : ${scholarships}">
        <td th:text="${scholarship.name}">Scholarship Name</td>
        <td th:text="${scholarship.eligibleCategories}">Category</td>
        <td th:text="${scholarship.incomeLimit}">Income</td>
        <td>
          <a th:href="${scholarship.applyLink}" class="btn btn-apply" target="_blank" rel="noopener noreferrer">
            <i class="fas fa-paper-plane"></i> Apply Now
          </a>
        </td>
      </tr>
      <tr th:if="${#lists.isEmpty(scholarships)}">
        <td colspan="4" class="text-danger fw-semibold">No scholarships found.</td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <nav th:if="${totalPages > 1}">
    <ul class="pagination justify-content-center mt-4">
      <li class="page-item" th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
          th:classappend="${i == currentPage} ? 'active'">
        <a class="page-link" th:href="@{/admin/scholarships(page=${i}, keyword=${keyword})}" th:text="${i + 1}">1</a>
      </li>
    </ul>
  </nav>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
